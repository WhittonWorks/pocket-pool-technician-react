{
  "id": "jandy-jxi-v1",
  "brand": "Jandy",
  "equipmentType": "Heaters",
  "model": "JXi",
  "title": "Jandy JXi Heater (Rev G & Rev H) â€” Guided Troubleshooting",
  "start": "enter_serial",
  "nodes": {
    "enter_serial": {
      "id": "enter_serial",
      "text": "Enter the full serial number from the JXi heater.\n\n- Rev G or earlier: starts with B (2017 & earlier)\n- Rev H or newer: starts with LB (2018+)",
      "input": "text",
      "logic": [
        { "if": "value.startsWith('B') && !value.startsWith('LB')", "goto": "rev_g_start" },
        { "if": "value.startsWith('LB')", "goto": "rev_h_start" }
      ],
      "default": "invalid_serial"
    },

    "invalid_serial": {
      "id": "invalid_serial",
      "text": "âŒ Invalid serial number. Try again.\nExpected formats:\n- Rev G or earlier = B#####\n- Rev H or newer = LB#####",
      "input": "info",
      "pass": "enter_serial"
    },

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       ðŸ”¹ REV G FLOW
       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    "rev_g_start": {
      "id": "rev_g_start",
      "text": "Which input voltage is the JXi Rev G configured for?",
      "input": "choice",
      "choices": { "120 V": "rev_g_120", "240 V": "rev_g_240" }
    },

    "rev_g_120": {
      "id": "rev_g_120",
      "text": "Measure power at Distribution Board (Black C â†’ Red B). Expect 110â€“126 VAC.",
      "input": "number",
      "unit": "VAC",
      "range": [110, 126],
      "pass": "rev_g_step2",
      "fail": "fix_power",
      "isEntryPoint": true
    },
    "rev_g_240": {
      "id": "rev_g_240",
      "text": "Measure power at Distribution Board (Black C â†’ Red B). Expect 220â€“252 VAC.",
      "input": "number",
      "unit": "VAC",
      "range": [220, 252],
      "pass": "rev_g_step2",
      "fail": "fix_power",
      "isEntryPoint": true
    },

    "rev_g_step2": {
      "id": "rev_g_step2",
      "text": "Measure transformer output (Red 2 â†’ Yellow 1). Expect 22â€“26 VAC.",
      "input": "number",
      "unit": "VAC",
      "range": [22, 26],
      "pass": "rev_g_step3",
      "fail": "rev_g_step2_check_input"
    },
    "rev_g_step2_check_input": {
      "id": "rev_g_step2_check_input",
      "text": "Measured transformer output below 22 VAC.\n\nVerify incoming voltage (110â€“126 or 220â€“252 VAC). If input correct and output low â†’ replace transformer.",
      "input": "info",
      "pass": "rev_g_step3"
    },

    "rev_g_step3": {
      "id": "rev_g_step3",
      "text": "Check PIB fuse continuity. Good?",
      "input": "yesno",
      "pass": "rev_g_step4",
      "fail": "rev_g_step2"
    },

    "rev_g_step4": {
      "id": "rev_g_step4",
      "text": "Check Water Pressure Switch: 24 VAC Purple (4) â†’ Yellow (1). Expect 22â€“26 VAC.",
      "input": "number",
      "unit": "VAC",
      "range": [22, 26],
      "pass": "rev_g_step5",
      "fail": "rev_g_step3"
    },

    "rev_g_step5": {
      "id": "rev_g_step5",
      "text": "Check Fusible Link chain: Orange (6), Blue (7), Black (8). All 22â€“26 VAC?",
      "input": "number",
      "unit": "VAC",
      "range": [22, 26],
      "pass": "rev_g_blower",
      "fail": "rev_g_step4"
    },

    "rev_g_blower": {
      "id": "rev_g_blower",
      "text": "Does the blower motor run?",
      "input": "yesno",
      "pass": "rev_g_igniter",
      "fail": "rev_g_step5",
      "isEntryPoint": true
    },

    "rev_g_igniter": {
      "id": "rev_g_igniter",
      "text": "After blower starts, does the Hot Surface Igniter glow?",
      "input": "yesno",
      "pass": "rev_g_gas",
      "fail": "rev_g_igniter_check_input",
      "isEntryPoint": true
    },
    "rev_g_igniter_check_input": {
      "id": "rev_g_igniter_check_input",
      "text": "Measure voltage at Ignition Control K & I terminals during ignition. Expect 105â€“130 VAC.\n\nIf no voltage â†’ verify 24 VAC to board.\nIf voltage present â†’ check ignitor continuity.",
      "input": "number",
      "unit": "VAC",
      "range": [105, 130],
      "pass": "rev_g_igniter_check_continuity",
      "fail": "rev_g_igniter_no_power"
    },
    "rev_g_igniter_check_continuity": {
      "id": "rev_g_igniter_check_continuity",
      "text": "With power off and ignitor cool, check continuity between ignitor leads.\n\nâœ… Continuity present â†’ ignitor intact.\nâŒ Open circuit â†’ replace ignitor.\n(Optional) Cold resistance â‰ˆ 40â€“75 Î©; > 90 Î© = weak element.",
      "input": "yesno",
      "pass": "rev_g_gas",
      "fail": "replace_ignitor"
    },
    "rev_g_igniter_no_power": {
      "id": "rev_g_igniter_no_power",
      "text": "No 120 VAC to ignitor. Verify ignition control receives 24 VAC and ground. If 24 VAC present but no output, replace ignition control.",
      "input": "info",
      "terminal": true
    },
    "replace_ignitor": {
      "id": "replace_ignitor",
      "text": "Replace Hot Surface Ignitor. Verify connections and ceramic integrity before restart.",
      "input": "info",
      "terminal": true
    },

    "rev_g_gas": {
      "id": "rev_g_gas",
      "text": "Check for 24 VAC at Brown (gas valve) â†’ Yellow. Present?",
      "input": "number",
      "unit": "VAC",
      "range": [22, 26],
      "pass": "rev_g_flame",
      "fail": "rev_g_igniter"
    },

    "rev_g_flame": {
      "id": "rev_g_flame",
      "text": "Do burners ignite and stay lit > 7 s?",
      "input": "yesno",
      "pass": "rev_g_success",
      "fail": "rev_g_gas"
    },

    "rev_g_success": {
      "id": "rev_g_success",
      "text": "âœ… Rev G heater operating normally.",
      "input": "info",
      "terminal": true,
      "success": true
    },

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       ðŸ”¹ REV H FLOW
       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    "rev_h_start": {
      "id": "rev_h_start",
      "text": "Which input voltage is the JXi Rev H configured for?",
      "input": "choice",
      "choices": { "120 V": "rev_h_120", "240 V": "rev_h_240" }
    },

    "rev_h_120": {
      "id": "rev_h_120",
      "text": "Measure power at Distribution Board (Black C â†’ Red B). Expect 110â€“126 VAC.",
      "input": "number",
      "unit": "VAC",
      "range": [110, 126],
      "pass": "rev_h_step2",
      "fail": "fix_power",
      "isEntryPoint": true
    },
    "rev_h_240": {
      "id": "rev_h_240",
      "text": "Measure power at Distribution Board (Black C â†’ Red B). Expect 220â€“252 VAC.",
      "input": "number",
      "unit": "VAC",
      "range": [220, 252],
      "pass": "rev_h_step2",
      "fail": "fix_power",
      "isEntryPoint": true
    },

    "rev_h_step2": {
      "id": "rev_h_step2",
      "text": "Measure transformer output (Red 2 â†’ Yellow 1). Expect 22â€“26 VAC.",
      "input": "number",
      "unit": "VAC",
      "range": [22, 26],
      "pass": "rev_h_step3",
      "fail": "rev_h_step2_check_input"
    },
    "rev_h_step2_check_input": {
      "id": "rev_h_step2_check_input",
      "text": "Measured transformer output below 22 VAC.\n\nVerify incoming voltage (110â€“126 / 220â€“252 VAC). If input correct and output low â†’ replace transformer.",
      "input": "info",
      "pass": "rev_h_step3"
    },

    "rev_h_step3": {
      "id": "rev_h_step3",
      "text": "Check PIB fuse continuity. Good?",
      "input": "yesno",
      "pass": "rev_h_step4",
      "fail": "rev_h_step2"
    },

    "rev_h_step4": {
      "id": "rev_h_step4",
      "text": "Check Water Pressure Switch: 24 VAC Purple (4) â†’ Yellow (1). Expect 22â€“26 VAC.",
      "input": "number",
      "unit": "VAC",
      "range": [22, 26],
      "pass": "rev_h_step5",
      "fail": "rev_h_step3"
    },

    "rev_h_step5": {
      "id": "rev_h_step5",
      "text": "Check Fusible Link chain: Orange (6), Blue (7), Black (8). All 22â€“26 VAC?",
      "input": "number",
      "unit": "VAC",
      "range": [22, 26],
      "pass": "rev_h_blower",
      "fail": "rev_h_step4"
    },

    "rev_h_blower": {
      "id": "rev_h_blower",
      "text": "Does the blower motor run?",
      "input": "yesno",
      "pass": "rev_h_igniter",
      "fail": "rev_h_step5",
      "isEntryPoint": true
    },

    "rev_h_igniter": {
      "id": "rev_h_igniter",
      "text": "After blower starts, does the Hot Surface Igniter glow?",
      "input": "yesno",
      "pass": "rev_h_gas",
      "fail": "rev_h_igniter_check_input",
      "isEntryPoint": true
    },
    "rev_h_igniter_check_input": {
      "id": "rev_h_igniter_check_input",
      "text": "Measure voltage at Ignition Control K & I terminals during ignition. Expect 105â€“130 VAC.\n\nIf no voltage â†’ verify 24 VAC supply.\nIf voltage present â†’ check ignitor continuity.",
      "input": "number",
      "unit": "VAC",
      "range": [105, 130],
      "pass": "rev_h_igniter_check_continuity",
      "fail": "rev_h_igniter_no_power"
    },
    "rev_h_igniter_check_continuity": {
      "id": "rev_h_igniter_check_continuity",
      "text": "With power off and ignitor cool, check continuity between ignitor leads.\n\nâœ… Continuity present â†’ ignitor intact.\nâŒ Open circuit â†’ replace ignitor.",
      "input": "yesno",
      "pass": "rev_h_gas",
      "fail": "replace_ignitor"
    },
    "rev_h_igniter_no_power": {
      "id": "rev_h_igniter_no_power",
      "text": "No 120 VAC to ignitor. Verify ignition control receives 24 VAC and ground. If 24 VAC present but no output, replace ignition control.",
      "input": "info",
      "terminal": true
    },

    "rev_h_gas": {
      "id": "rev_h_gas",
      "text": "Check for 24 VAC at Brown (gas valve) â†’ Yellow. Present?",
      "input": "number",
      "unit": "VAC",
      "range": [22, 26],
      "pass": "rev_h_flame",
      "fail": "rev_h_igniter"
    },

    "rev_h_flame": {
      "id": "rev_h_flame",
      "text": "Do burners ignite and stay lit > 7 s?",
      "input": "yesno",
      "pass": "rev_h_success",
      "fail": "rev_h_gas"
    },

    "rev_h_success": {
      "id": "rev_h_success",
      "text": "âœ… Rev H heater operating normally.",
      "input": "info",
      "terminal": true,
      "success": true
    },

    "fix_power": {
      "id": "fix_power",
      "text": "Correct incoming power / breaker / wiring to heater before continuing.",
      "input": "info",
      "terminal": true
    }
  }
}